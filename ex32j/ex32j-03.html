<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title></title>
  </head>
  <body>
    <!-- 재귀함수 : 자신을 재참조하는 함수 -->
    <script>
      const num = +prompt("양의 정수를 입력해 주세요", 35);
      let diff, result;
      function fib(n) {
        // n이 0보다 적가나 n의 정수값이 n이 아닌 경우
        // 정수만 반환하는 메소드
        if (n < 0 || Math.trunc(n) != n) {
          // trunc :  주어진 값의 소수부분을 제거하고 숫자의 정수부분을 반환

          throw new Error("음수나 정수가 아닌 값은 처리할 수 없습니다.");
        }
        // n이 1보다 작거나 같은경우 fib(n-1)을 호출
        // n이 1보다 크다면 fib(n-2)을 호출
        return n <= 1 ? n : fib(n - 1) + fib(n - 2);
      }

      let start = Date.now(); // 측정 시작

      //함수호출(스타트 지점)
      try {
        result = fib(num);
      } catch (error) {
        result = error;
      } finally {
        diff = Date.now() - start; // 측정 끝
      }

      alert(result); // 결과 값 출력
      alert(`연산시간:${diff}ms`);
    </script>
  </body>
</html>
